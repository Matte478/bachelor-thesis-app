(function(e){function t(t){for(var a,n,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],a=!0,n=1;n<o.length;n++){var l=o[n];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var a={},s={app:0},r=[];function n(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ab44f":"f891ae13","chunk-2d0c5376":"251425b7","chunk-2d0cfc27":"a0379443","chunk-2d0d0b66":"0405be64","chunk-2d0e1dcf":"f2a43bc0","chunk-2d0e1f83":"eefc88ab","chunk-2d0e904c":"8afdc4b6","chunk-2d0efd3e":"9318e15e","chunk-2d224e87":"a5088d71"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o=s[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=s[e]=[t,a]}));t.push(o[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=n(e);var c=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=s[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,o[1](c)}s[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"03d5":function(e,t,o){"use strict";var a=o("1fde"),s=o.n(a);s.a},"08eb":function(e,t,o){"use strict";var a=o("104c"),s=o.n(a);s.a},"0b1e":function(e,t,o){},"104c":function(e,t,o){},"12a4":function(e,t,o){},"1fbf":function(e,t,o){},"1fde":function(e,t,o){},3036:function(e,t,o){"use strict";var a=o("b5ae"),s=o.n(a);s.a},"33a2":function(e,t,o){},"358d":function(e,t,o){"use strict";var a=o("3d86"),s=o.n(a);s.a},3705:function(e,t,o){},"39bb":function(e,t,o){},"3a49":function(e,t,o){"use strict";var a=o("bdb2"),s=o.n(a);s.a},"3c13":function(e,t,o){"use strict";var a=o("39bb"),s=o.n(a);s.a},"3d86":function(e,t,o){},"3fcd":function(e,t,o){"use strict";var a=o("8476"),s=o.n(a);s.a},4324:function(e,t,o){"use strict";var a=o("33a2"),s=o.n(a);s.a},4678:function(e,t,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return o(t)}function r(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},"4aa3":function(e,t,o){"use strict";var a=o("3705"),s=o.n(a);s.a},"4c9b":function(e,t,o){"use strict";var a=o("9e11"),s=o.n(a);s.a},"56d7":function(e,t,o){"use strict";o.r(t);o("b64b"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),s=o("8c4f"),r=(o("45fc"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"d-flex justify-content-center align-items-center section section--full"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("obd-card",{staticClass:"login",attrs:{"card-title":"Prihlásenie","card-subtitle":"Prihlásenie do účtu"}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[e.hasError("credentials")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("credentials"))+" ")]):e._e(),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[e._v("E-Mail")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"input",class:{error:e.hasError("email")},attrs:{type:"email",name:"email",id:"email"},domProps:{value:e.form.email},on:{input:[function(t){t.target.composing||e.$set(e.form,"email",t.target.value)},e.removeError]}}),e.hasError("email")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("email"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[e._v("Heslo")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.form.password},on:{input:[function(t){t.target.composing||e.$set(e.form,"password",t.target.value)},e.removeError]}}),e.hasError("password")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("password"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v("Prihlásenie")])],1)])])],1)])])])}),n=[],i=(o("b0c0"),{data:function(){return{errors:{}}},computed:{},methods:{removeError:function(){delete this.errors[event.target.name]},hasError:function(e){return this.errors.hasOwnProperty(e)},firstError:function(e){return this.errors[e][0]}}}),l={name:"login",mixins:[i],data:function(){return{form:{email:"",password:""}}},computed:{page:function(){var e="admin";switch(this.$store.getters.userRoles[0]){case"Employee":e="orders";break;case"Client":e="client-contractor";break;case"Contractor":e="restaurant-dashboard";break}return e}},methods:{login:function(){var e=this;this.$store.dispatch("retrieveToken",this.form).then((function(){e.$router.push({name:e.page}),e.flashSuccess("Boli ste úspešne prihlásený.",{timeout:3e3})})).catch((function(t){e.errors=t}))}}},c=l,d=(o("03d5"),o("2877")),u=Object(d["a"])(c,r,n,!1,null,"0d124cba",null),m=u.exports,p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"d-flex justify-content-center align-items-center section section--full"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row align-items-center justify-content-center"},[o("div",{staticClass:"col-sm-10"},[o("obd-card",{attrs:{"card-title":"Registrácia reštaurácie","card-subtitle":"Registrujte vašu reštauráciu"}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.registerContractor(t)}}},[o("div",{staticClass:"row justify-content-around"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("p",{staticClass:"desc"},[e._v("Informácie o Vás")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Meno a priezvisko")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.form.name},on:{input:[function(t){t.target.composing||e.$set(e.form,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[e._v("E-Mail")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"input",class:{error:e.hasError("email")},attrs:{type:"text",name:"email",id:"email"},domProps:{value:e.form.email},on:{input:[function(t){t.target.composing||e.$set(e.form,"email",t.target.value)},e.removeError]}}),e.hasError("email")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("email"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[e._v("Heslo")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.form.password},on:{input:[function(t){t.target.composing||e.$set(e.form,"password",t.target.value)},e.removeError]}}),e.hasError("password")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("password"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[e._v("Potvrdenie hesla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password_confirmation",id:"password_confirmation"},domProps:{value:e.form.password_confirmation},on:{input:[function(t){t.target.composing||e.$set(e.form,"password_confirmation",t.target.value)},e.removeError]}})])])]),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("p",{staticClass:"desc"},[e._v("Informácie o Vašej reštaurácii")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Názov reštaurácie")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.restaurant,expression:"form.restaurant"}],staticClass:"input",class:{error:e.hasError("restaurant")},attrs:{type:"text",name:"restaurant",id:"restaurant"},domProps:{value:e.form.restaurant},on:{input:[function(t){t.target.composing||e.$set(e.form,"restaurant",t.target.value)},e.removeError]}}),e.hasError("restaurant")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("restaurant"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Mesto")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.city,expression:"form.city"}],staticClass:"input",class:{error:e.hasError("city")},attrs:{type:"text",name:"city",id:"city"},domProps:{value:e.form.city},on:{input:[function(t){t.target.composing||e.$set(e.form,"city",t.target.value)},e.removeError]}}),e.hasError("city")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("city"))+" ")]):e._e()])])])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v(" Registrácia ")])],1)])])],1)])])])},f=[],v={name:"registerContractor",mixins:[i],data:function(){return{form:{name:"",email:"",password:"",password_confirmation:"",restaurant:"",city:""}}},methods:{registerContractor:function(){var e=this;this.$store.dispatch("registerContractor",this.form).then((function(){e.$router.push({name:"login"}),e.flashSuccess("Boli ste úspešne zaregistrovaný, môžete sa prihlásiť.",{timeout:3e3})})).catch((function(t){e.errors=t}))}}},h=v,y=Object(d["a"])(h,p,f,!1,null,null,null),b=y.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"d-flex justify-content-center align-items-center section section--full"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row align-items-center justify-content-center"},[o("div",{staticClass:"col-sm-10"},[o("obd-card",{attrs:{"card-title":"Registrácia spoločnosti","card-subtitle":"Registrujte vašu spoločnosť"}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.registerClient(t)}}},[o("div",{staticClass:"row justify-content-around"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("p",{staticClass:"desc"},[e._v("Informácie o Vás")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Meno a priezvisko")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.form.name},on:{input:[function(t){t.target.composing||e.$set(e.form,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[e._v("E-Mail")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"input",class:{error:e.hasError("email")},attrs:{type:"text",name:"email",id:"email"},domProps:{value:e.form.email},on:{input:[function(t){t.target.composing||e.$set(e.form,"email",t.target.value)},e.removeError]}}),e.hasError("email")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("email"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[e._v("Heslo")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.form.password},on:{input:[function(t){t.target.composing||e.$set(e.form,"password",t.target.value)},e.removeError]}}),e.hasError("password")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("password"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"password"}},[e._v("Potvrdenie hesla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password_confirmation",id:"password_confirmation"},domProps:{value:e.form.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.form,"password_confirmation",t.target.value)}}})])])]),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("p",{staticClass:"desc"},[e._v("Informácie o Vašej spoločnosti")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Názov spoločnosti")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.company,expression:"form.company"}],staticClass:"input",class:{error:e.hasError("company")},attrs:{type:"text",name:"company",id:"company"},domProps:{value:e.form.company},on:{input:[function(t){t.target.composing||e.$set(e.form,"company",t.target.value)},e.removeError]}}),e.hasError("company")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("company"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[e._v("Mesto")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.city,expression:"form.city"}],staticClass:"input",class:{error:e.hasError("city")},attrs:{type:"text",name:"city",id:"city"},domProps:{value:e.form.city},on:{input:[function(t){t.target.composing||e.$set(e.form,"city",t.target.value)},e.removeError]}}),e.hasError("city")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("city"))+" ")]):e._e()])])])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v(" Registrácia ")])],1)])])],1)])])])},_=[],w={name:"registerClient",mixins:[i],data:function(){return{form:{name:"",email:"",password:"",password_confirmation:"",company:"",city:""}}},methods:{registerClient:function(){var e=this;this.$store.dispatch("registerClient",this.form).then((function(){e.$router.push({name:"login"}),e.flashSuccess("Boli ste úspešne zaregistrovaný, môžete sa prihlásiť.",{timeout:3e3})})).catch((function(t){e.errors=t}))}}},E=w,C=Object(d["a"])(E,g,_,!1,null,null,null),k=C.exports,j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},O=[],P={created:function(){var e=this;this.$store.dispatch("destroyToken").then((function(){e.$router.push({name:"login"}),e.flashSuccess("Boli ste úspešne odhlásený.",{timeout:3e3})}))}},x=P,$=Object(d["a"])(x,j,O,!1,null,null,null),T=$.exports,M=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"section section--full section--404"},[o("obd-page-not-found")],1)},z=[],D=(o("3fcd"),{}),S=Object(d["a"])(D,M,z,!1,null,"1c0721a1",null),N=S.exports,Y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"admin-wrapper",class:{closed:e.isClosed}},[o("div",{staticClass:"sidebar-wrapper fixed-top",class:{closed:e.isClosed}},[o("nav",{staticClass:"sidebar"},[o("obd-button-arrow",{staticClass:"sidebar__toggle",on:{click:e.toggleClose}}),e.contractor?o("ul",{staticClass:"sidebar__menu"},[o("li",[o("router-link",{attrs:{to:{name:"restaurant-dashboard"}}},[o("i",{staticClass:"fas fa-tachometer-alt"}),e._v(" Dashboard")])],1),o("li",[o("router-link",{attrs:{to:{name:"restaurant-orders"}}},[o("i",{staticClass:"fas fa-shopping-basket"}),e._v("Objednávky")])],1),o("li",[o("router-link",{attrs:{to:{name:"restaurant-menu"}}},[o("i",{staticClass:"fas fa-utensils"}),e._v(" Menu")])],1),o("li",[o("router-link",{attrs:{to:{name:"restaurant-clients"}}},[o("i",{staticClass:"fas fa-calendar-week"}),e._v(" Klienti")])],1)]):e._e(),e.client?o("ul",{staticClass:"sidebar__menu"},[o("li",[o("router-link",{attrs:{to:{name:"client-contractor"}}},[o("i",{staticClass:"fas fa-tachometer-alt"}),e._v(" Dodávateľ")])],1),o("li",[o("router-link",{attrs:{to:{name:"client-orders"}}},[o("i",{staticClass:"fas fa-shopping-basket"}),e._v("Objednávky")])],1),o("li",[o("router-link",{attrs:{to:{name:"client-employees"}}},[o("i",{staticClass:"fas fa-users"}),e._v(" Zamestnanci")])],1),o("li",[o("router-link",{attrs:{to:{name:"client-type-of-employments"}}},[o("i",{staticClass:"fas fa-money-bill-wave-alt"}),e._v(" Pracovné pomery")])],1)]):e._e()],1)]),o("div",{staticClass:"container-fluid"},[o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("router-view")],1)],1)])},I=[],A={data:function(){return{isClosed:!1}},computed:{userType:function(){return this.$store.getters.userType},contractor:function(){return this.$store.getters.loggedInContractor},client:function(){return this.$store.getters.loggedInClient}},methods:{toggleClose:function(){this.isClosed=!this.isClosed}}},F=A,J=(o("4324"),Object(d["a"])(F,Y,I,!1,null,"08206366",null)),R=J.exports,q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section section--dashboard"},[o("orders-detail",{attrs:{active:e.orderDetailPopup,subtitle:e.modalSubtitle,order:e.orderDetail},on:{closed:e.closeDetail}}),e.initialized?o("obd-card",{attrs:{"card-title":"Dashboard"}},[o("h1",{staticClass:"title"},[e._v("Dnešné objednávky")]),e.notEmptyObject(e.orders)?o("div",[o("orders-table",{attrs:{date:e.getToday(),orders:e.orders},on:{detail:e.openDetail}})],1):o("h3",[e._v("Na dnes nemáte žiadne objednávky")])]):e._e()],1)},W=[],U=(o("ac1f"),o("1276"),o("c1df"));U.locale("sk");var V={getCurrentWeek:function(){U();for(var e=this.getWeekStart(),t=[],o=0;o<=4;o++)t.push(U(e).add(o,"days").format("YYYY-MM-DD"));return t},getWeekStart:function(e){var t=U(),o=t.isoWeekday();return"undefined"==typeof e&&(e="YYYY-MM-DD"),o>5&&t.add(1,"weeks"),t.startOf("isoWeek").format(e)},getWeekEnd:function(e){var t=U(),o=t.isoWeekday();return"undefined"==typeof e&&(e="YYYY-MM-DD"),o>5&&t.add(1,"weeks"),t.weekday(5).format(e)},getWeekRange:function(e){"undefined"==typeof e&&(e="YYYY-MM-DD");var t=this.getWeekStart(e),o=this.getWeekEnd(e);return t+" - "+o},getToday:function(e){return"undefined"==typeof e&&(e="YYYY-MM-DD"),U().format(e)},isPassedDate:function(e){return U().isAfter(e)},formatDate:function(e,t){return"undefined"==typeof t&&(t="DD.MM.YYYY"),U(e).format(t)}},L={data:function(){return{weekDays:["Pondelok","Utorok","Streda","Štvrtok","Piatok"],weekDaysEn:["Monday","Tuesday","Wednesday","Thursday","Friday"]}},computed:{getCurrentWeek:function(){return V.getCurrentWeek()}},methods:{getWeekStart:function(e){return V.getWeekStart(e)},getWeekEnd:function(e){return V.getWeekEnd(e)},getWeekRange:function(e){return V.getWeekRange(e)},getToday:function(e){return V.getToday(e)},isPassedDate:function(e){return V.isPassedDate(e)},formatDate:function(e,t){return V.formatDate(e,t)}}},Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",{staticClass:"day-box__date"},[e._v(e._s(e.formatedDate))]),o("obd-table",{staticClass:"day-box__table",attrs:{layout:"fixed",data:JSON.stringify(e.formatCompanyOrders(e.orders,e.date)),columns:JSON.stringify(e.columns),actions:JSON.stringify(e.tableActions)},on:{action:e.action}})],1)},K=[],H=(o("d81d"),{props:["orders","date","formated-date"],data:function(){return{columns:[{key:"company",text:"Klient"},{key:"price",text:"Cena objednávky"}],tableActions:[{text:"Detail",action:"detail",color:"#2d4059"}]}},methods:{formatCompanyOrders:function(e,t){var o=JSON.parse(JSON.stringify(e)),a=[];return Object.keys(o).map((function(e){a.push({id:t+"#"+e,company:e,price:o[e].price+"€"})})),a},action:function(e){this.$emit(e.detail.action,e.detail.id)}}}),B=H,G=Object(d["a"])(B,Z,K,!1,null,null,null),Q=G.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.order.meals?o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Detail objednávky","modal-subtitle":e.subtitle,"max-width":"1000px"},on:{closed:e.closeDetail}},[o("div",{attrs:{slot:"controls"},slot:"controls"},[o("h3",{staticClass:"pop-up__price"},[e._v("Cena objednávky: "),o("span",[e._v(e._s(e.order.price)+"€")])])]),o("obd-table",{staticClass:"pop-up__table",attrs:{data:JSON.stringify(e.formatMealsForDetail(e.order.meals)),columns:JSON.stringify(e.columns)}})],1):e._e()},ee=[],te={props:["active","subtitle","order"],data:function(){return{columns:[{key:"meal",text:"Jedlo"},{key:"count",text:"Množstvo"},{key:"price",text:"Cena za ks"}]}},methods:{closeDetail:function(){this.$emit("closed")},formatMealsForDetail:function(e){var t=[];return Object.keys(e).map((function(o){t.push({id:e[o].meal_id,meal:e[o].meal,count:e[o].count,price:e[o].price+"€"})})),t}}},oe=te,ae=Object(d["a"])(oe,X,ee,!1,null,null,null),se=ae.exports,re={mame:"dashboard",mixins:[L],components:{OrdersTable:Q,OrdersDetail:se},data:function(){return{initialized:!1,orders:[],orderDetailPopup:!1,modalSubtitle:"",orderDetail:[]}},created:function(){var e=this,t="?filter[date]="+this.getToday();this.$store.dispatch("orders/fetchOrders",t).then((function(){var t=e.$store.getters["orders/getOrders"];e.notEmptyObject(t)&&(e.orders=t[e.getToday()]),e.initialized=!0})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))},methods:{closeDetail:function(){this.orderDetailPopup=!1},openDetail:function(e){var t=e.split("#");this.orderDetail=this.orders[t[1]],this.modalSubtitle=this.formatDate(t[0])+" | "+t[1],this.orderDetailPopup=!0}}},ne=re,ie=(o("358d"),Object(d["a"])(ne,q,W,!1,null,"2aa9e158",null)),le=ie.exports,ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section section--admin"},[o("menu-add-new",{attrs:{active:e.newMealPopup},on:{closed:e.closePopup,"added-meal":e.addedMeal}}),o("menu-edit",{attrs:{active:e.editMealPopup,mealId:e.editableId},on:{closed:e.closeEditPopup,"edited-meal":e.editedMeal}}),e.initialized?o("obd-card",{attrs:{"card-title":"Menu"}},[o("div",{attrs:{slot:"controls"},slot:"controls"},[o("obd-button",{on:{click:e.togglePopup}},[e._v("Pridať jedlo")])],1),e.meals.length?o("obd-table-menu",{attrs:{meals:JSON.stringify(e.meals)},on:{edit:e.openEditPopup,delete:e.deleteMeal}}):o("h3",[e._v("Nemáte žiadne jedlo v ponuke")])],1):e._e()],1)},de=[],ue=(o("4de4"),o("bc3a")),me=o.n(ue),pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Pridať jedlo","modal-subtitle":"Pridajte nové jedlo do ponuky"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.addMeal(t)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Názov jedla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMeal.meal,expression:"newMeal.meal"}],staticClass:"input",class:{error:e.hasError("meal")},attrs:{type:"text",name:"meal",id:"meal"},domProps:{value:e.newMeal.meal},on:{input:[function(t){t.target.composing||e.$set(e.newMeal,"meal",t.target.value)},e.removeError]}}),e.hasError("meal")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("meal"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"price"}},[e._v("Cena v €")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMeal.price,expression:"newMeal.price"}],staticClass:"input",class:{error:e.hasError("price")},attrs:{type:"number",step:"0.01",name:"price",id:"price"},domProps:{value:e.newMeal.price},on:{input:[function(t){t.target.composing||e.$set(e.newMeal,"price",t.target.value)},e.removeError]}}),e.hasError("price")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("price"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v(" Pridať jedlo ")])],1)])])},fe=[],ve={name:"MenuAddNew",props:["active"],mixins:[i],data:function(){return{newMeal:{}}},watch:{active:function(){this.errors={}}},methods:{addMeal:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.post("/meals",this.newMeal).then((function(t){e.flashSuccess("Jedlo bolo úspešne pridané.",{timeout:3e3}),e.newMeal={},e.$emit("added-meal",t.data.data)})).catch((function(t){e.errors=t.response.data.errors}))},closePopup:function(){this.$emit("closed")}}},he=ve,ye=Object(d["a"])(he,pe,fe,!1,null,null,null),be=ye.exports,ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.notEmptyObject(e.editableMeal)?o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Upraviť jedlo","modal-subtitle":"Upravte jedlo z ponuky","max-width":"500px"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.editMeal(e.editableMeal.id)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Názov jedla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editableMeal.meal,expression:"editableMeal.meal"}],staticClass:"input",class:{error:e.hasError("meal")},attrs:{type:"text",name:"meal",id:"meal"},domProps:{value:e.editableMeal.meal},on:{input:[function(t){t.target.composing||e.$set(e.editableMeal,"meal",t.target.value)},e.removeError]}}),e.hasError("meal")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("meal"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"price"}},[e._v("Cena v €")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editableMeal.price,expression:"editableMeal.price"}],staticClass:"input",class:{error:e.hasError("price")},attrs:{type:"number",step:"0.01",name:"price",id:"price"},domProps:{value:e.editableMeal.price},on:{input:[function(t){t.target.composing||e.$set(e.editableMeal,"price",t.target.value)},e.removeError]}}),e.hasError("price")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("price"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v("Upraviť jedlo")])],1)])]):e._e()},_e=[],we={name:"MenuEdit",props:["active","mealId"],mixins:[i],data:function(){return{editableMeal:{}}},watch:{active:function(){this.errors={},this.loadMeal()}},methods:{closePopup:function(){this.$emit("closed"),this.editableMeal={}},loadMeal:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.get("/meals/"+this.mealId).then((function(t){e.editableMeal=t.data.data})).catch((function(t){console.log(t),e.flashError("Niečo sa pokazilo, nebolo možné načítať obsah stránky.<br>Skúste obnoviť stránku.")}))},editMeal:function(e){var t=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.put("/meals/"+e,this.editableMeal).then((function(){t.$store.dispatch("fetchMeals"),t.flashSuccess("Jedlo bolo úspešne upravené.",{timeout:3e3}),t.$emit("edited-meal")})).catch((function(e){t.errors=e.response.data.errors}))}}},Ee=we,Ce=Object(d["a"])(Ee,ge,_e,!1,null,null,null),ke=Ce.exports,je={name:"menuPage",components:{MenuAddNew:be,MenuEdit:ke},data:function(){return{initialized:!1,meals:[],newMealPopup:!1,editMealPopup:!1,editableId:""}},mounted:function(){this.loadMeals()},methods:{loadMeals:function(){var e=this;this.$store.dispatch("fetchMeals").then((function(){e.meals=e.$store.getters.getMeals,e.initialized=!0})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať obsah stránky.<br>Skúste obnoviť stránku.")}))},togglePopup:function(){this.newMealPopup=!this.newMealPopup},closePopup:function(){this.newMealPopup=!1},toggleEditPopup:function(){this.editMealPopup=!this.editMealPopup},addedMeal:function(e){this.meals.push(e),this.closePopup()},editedMeal:function(){this.loadMeals(),this.editMealPopup=!1},openEditPopup:function(e){this.editableId=e.detail,this.editMealPopup=!0},closeEditPopup:function(){this.editMealPopup=!1},deleteMeal:function(e){var t=this,o=e.detail,a=confirm("Naozaj chcete vymazať dané jedlo?");a&&(me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.delete("/meals/"+o).then((function(){var e=t.meals.filter((function(e){return e.id!=o}));t.meals=e,t.flashSuccess("Jedlo bolo úspešne zmazané.",{timeout:3e3})})).catch((function(e){console.log(e),t.flashError("Niečo sa pokazilo, skúste to znova.",{timeout:3e3})})))}}},Oe=je,Pe=Object(d["a"])(Oe,ce,de,!1,null,null,null),xe=Pe.exports,$e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[e.initialized?o("obd-card",{attrs:{"card-title":"Klienti"}},[o("clients-unconfirmed",{staticClass:"unconfirmed",attrs:{clients:e.unconfirmedClients},on:{confirm:e.confirmAgreement}}),o("clients-confirmed",{attrs:{clients:e.confirmedClients}})],1):e._e()],1)},Te=[],Me=(o("4160"),o("159b"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",{staticClass:"title"},[e._v("Schválené spolupráce")]),e.clients.length?o("obd-table",{staticClass:"table",attrs:{layout:"fixed",data:JSON.stringify(e.clients),columns:JSON.stringify(e.columns)}}):o("h3",[e._v("Zatiaľ nemáte žiadnych klientov")])],1)}),ze=[],De={props:["clients"],data:function(){return{columns:[{key:"company",text:"Klient"},{key:"city",text:"Mesto"}]}}},Se=De,Ne=(o("4c9b"),Object(d["a"])(Se,Me,ze,!1,null,"2f117f74",null)),Ye=Ne.exports,Ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",{staticClass:"title"},[e._v("Čakajúce na schválenie")]),e.clients.length?o("obd-table",{staticClass:"table",attrs:{layout:"fixed",data:JSON.stringify(e.clients),columns:JSON.stringify(e.columns),actions:JSON.stringify(e.tableActions)},on:{action:e.action}}):o("h3",[e._v("Nemáte žiadne nové žiadosti")])],1)},Ae=[],Fe={props:["clients"],data:function(){return{columns:[{key:"company",text:"Klient"},{key:"city",text:"Mesto"}],tableActions:[{text:"Schváliť",action:"confirm",color:"#f07b3f"}]}},methods:{action:function(e){this.$emit(e.detail.action,e.detail.id)}}},Je=Fe,Re=(o("3c13"),Object(d["a"])(Je,Ie,Ae,!1,null,"231e02ac",null)),qe=Re.exports,We={components:{ClientsConfirmed:Ye,ClientsUnconfirmed:qe},data:function(){return{initialized:!1,confirmedClients:[],unconfirmedClients:[],columns:[{key:"company",text:"Klient"},{key:"city",text:"Mesto"}],tableActions:[{text:"Schváliť",action:"confirm",color:"#f07b3f"}]}},created:function(){this.loadContractor()},methods:{loadContractor:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.get("/agreements").then((function(t){var o=e.formatClients(t.data.data);e.confirmedClients=o.confirmed,e.unconfirmedClients=o.unconfirmed,e.initialized=!0})).catch((function(e){console.log(e)}))},formatClients:function(e){var t=[],o=[];return e.forEach((function(e){var a={id:e.id,company:e.company.company,city:e.company.city};e.confirmed?t.push(a):o.push(a)})),{confirmed:t,unconfirmed:o}},confirmAgreement:function(e){var t=this,o=confirm("Naozaj chcete schváliť danú žiadosť?");o&&(me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.post("/agreements/"+e+"/confirm").then((function(e){t.restaurants=e.data.data,t.flashSuccess("Klient bol schválený.",{timeout:3e3}),t.loadContractor()})).catch((function(e){t.flashError(e.response.data.error)})))}}},Ue=We,Ve=(o("3036"),Object(d["a"])(Ue,$e,Te,!1,null,"70f10770",null)),Le=Ve.exports,Ze=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[o("orders-detail",{attrs:{active:e.orderDetailPopup,subtitle:e.modalSubtitle,order:e.orderDetail},on:{closed:e.closeDetail}}),o("orders-filter",{attrs:{active:e.filterPopup},on:{closed:e.closeFilter,"changed-filter":e.changedFilter}}),e.initialized?o("obd-card",{attrs:{"card-title":"Objednávky"}},[o("div",{attrs:{slot:"controls"},slot:"controls"},[o("obd-button",{on:{click:e.openFilter}},[e._v("Filter")])],1),e.notEmptyObject(e.orders)?o("div",e._l(e.orders,(function(t,a){return o("div",{key:a,staticClass:"day-box"},[o("orders-table",{attrs:{orders:t,date:a,"formated-date":e.formatDate(a,e.dateFormat)},on:{detail:e.openDetail}})],1)})),0):o("h3",[e._v(" Nemáte žiadne objednávky ")])]):e._e()],1)},Ke=[],He=o("c1df"),Be=o.n(He),Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-modal",{staticClass:"pop-up pop-up--filter",attrs:{active:e.active,"modal-title":"Filter objednávok","max-width":"500px"},on:{closed:e.closeFilter}},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"select"},[o("v-select",{staticStyle:{height:"35px"},attrs:{multiple:"",options:e.clients,label:"Start Time",placeholder:"Všetci klienti"},model:{value:e.selectedClients,callback:function(t){e.selectedClients=t},expression:"selectedClients"}})],1)])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"calendar"},[o("datepicker",{attrs:{"calendar-class":"calendar__picker","input-class":"calendar__input",format:"dd.MM.yyyy",placeholder:"Dátum od",value:e.dateFrom},on:{input:function(t){e.dateFrom=e.fixDate(t)}}})],1),o("span",{staticClass:"delimer"}),o("div",{staticClass:"calendar"},[o("datepicker",{attrs:{"calendar-class":"calendar__picker","input-class":"calendar__input",format:"dd.MM.yyyy",placeholder:"Dátum do",value:e.dateTo},on:{input:function(t){e.dateTo=e.fixDate(t)}}})],1)])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[e._v(" zobrazenie: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.view,expression:"view"}],staticClass:"view-input",attrs:{type:"radio",name:"view",value:"days",id:"view-days"},domProps:{checked:e._q(e.view,"days")},on:{change:function(t){e.view="days"}}}),o("label",{staticClass:"view-label",class:{active:"days"==e.view},attrs:{for:"view-days"}},[e._v(" denné ")]),e._v(" / "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.view,expression:"view"}],staticClass:"view-input",attrs:{type:"radio",name:"view",value:"months",id:"view-months"},domProps:{checked:e._q(e.view,"months")},on:{change:function(t){e.view="months"}}}),o("label",{staticClass:"view-label",class:{active:"months"==e.view},attrs:{for:"view-months"}},[e._v(" mesačné ")])])])])])},Qe=[],Xe=(o("99af"),o("d3b7"),o("25f0"),{props:["active"],data:function(){return{clients:[],filterPopup:!1,dateFrom:"",dateTo:"",selectedClients:[],view:"days"}},computed:{filter:function(){var e="";return this.selectedClients.length&&(e=this.selectedClients.toString()),"/".concat(this.view,"?filter[date_from]=").concat(this.dateFrom,"&filter[date_to]=").concat(this.dateTo,"&filter[company]=").concat(e)},filterVariables:function(){return this.view,this.dateFrom,this.dateTo,this.selectedClients},dateFormat:function(){return"months"==this.view?"MMMM YYYY":"DD.MM.YYYY"}},watch:{filterVariables:function(){this.$emit("changed-filter",this.filter,this.view)}},created:function(){this.loadClients()},methods:{closeFilter:function(){this.$emit("closed")},loadClients:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.get("/agreements?filter[confirmed]=true").then((function(t){var o=t.data.data;o.forEach((function(t){e.clients.push(t.company.company)}))})).catch((function(e){console.log(e)}))},fixDate:function(e){return Be()(e).format("YYYY-MM-DD")}}}),et=Xe,tt=Object(d["a"])(et,Ge,Qe,!1,null,null,null),ot=tt.exports,at={mixins:[L],components:{OrdersFilter:ot,OrdersDetail:se,OrdersTable:Q},data:function(){return{initialized:!1,filterPopup:!1,view:"days",orderDetail:[],orderDetailPopup:!1,modalSubtitle:""}},computed:{orders:function(){return this.$store.getters["orders/getOrders"]},dateFormat:function(){return"months"==this.view?"MMMM YYYY":"DD.MM.YYYY"}},created:function(){this.loadOrders()},methods:{loadOrders:function(e){var t=this;"undefined"==typeof e&&(e=""),this.$store.dispatch("orders/fetchOrders",e).then((function(){t.initialized=!0})).catch((function(e){t.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))},openFilter:function(){this.filterPopup=!0},closeFilter:function(){this.filterPopup=!1},changedFilter:function(e,t){this.loadOrders(e),this.view=t},openDetail:function(e){var t=e.split("#");this.orderDetail=this.orders[t[0]][t[1]],this.modalSubtitle=this.formatDate(t[0])+" | "+t[1],this.orderDetailPopup=!0},closeDetail:function(){this.orderDetailPopup=!1}}},st=at,rt=(o("3a49"),Object(d["a"])(st,Ze,Ke,!1,null,"11dc3cf2",null)),nt=rt.exports,it=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section section--admin"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[e.initialized&&!e.hasContractor?o("create-agreement",{on:{"created-agreement":e.loadContractor}}):e.initialized?o("obd-card",{attrs:{"card-title":"Váš dodávateľ"}},[e.confirmed?e._e():o("h3",[e._v("Dodávateľ ešte nepotvrdil vašu spoluprácu.")]),o("p",[e._v("Názov reštaurácie: "+e._s(e.contractor.restaurant))]),o("p",[e._v("Mesto: "+e._s(e.contractor.city))]),o("p",[e._v("A ďalšie informácie ...")])]):e._e()],1)])])},lt=[],ct=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-card",{attrs:{"card-title":"Zatiaľ nemáte žiadneho dodávateľa jedál","card-subtitle":"Môžete si vybrať jedného z vášho mesta"}},[e.restaurants?o("obd-table",{attrs:{data:e.restaurantsStr,columns:JSON.stringify(e.columns),actions:JSON.stringify(e.tableActions)},on:{action:e.action}}):e._e()],1)},dt=[],ut={data:function(){return{restaurants:"",tableActions:[{text:"Vybrať",action:"selectContractor",color:"#f07b3f"}],columns:[{key:"restaurant",text:"Reštaurácia"},{key:"city",text:"Mesto"}]}},computed:{restaurantsStr:function(){return JSON.stringify(this.restaurants)}},created:function(){this.loadRestaurands()},methods:{action:function(e){switch(e.detail.action){case"selectContractor":this.createAgreement(e.detail.id);break}},createAgreement:function(e){var t=this,o=confirm("Naozaj chcete vybrať daného dodávateľa?");o&&(me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.post("/agreements",{restaurant_id:e}).then((function(e){t.restaurants=e.data.data,t.flashSuccess("Dodávateľ bol zvolený. Teraz musíte počkať na schválenie.",{timeout:3e3}),t.$emit("created-agreement")})).catch((function(e){t.flashError(e.response.data.error)})))},loadRestaurands:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.get("/restaurants").then((function(t){e.restaurants=t.data.data})).catch((function(t){console.log(t),e.flashError("Niečo sa pokazilo, nebolo možné načítať obsah stránky.<br>Skúste obnoviť stránku.")}))}}},mt=ut,pt=Object(d["a"])(mt,ct,dt,!1,null,null,null),ft=pt.exports,vt={components:{CreateAgreement:ft},data:function(){return{initialized:!1,hasContractor:!1,confirmed:!1,contractor:""}},created:function(){this.loadContractor()},methods:{loadContractor:function(){var e=this;me.a.defaults.headers.common["Authorization"]=this.$store.state.auth.tokenType+" "+this.$store.state.auth.token,me.a.get("/agreements").then((function(t){e.confirmed=t.data.data.confirmed,e.contractor=t.data.data.restaurant,e.hasContractor=!0,e.initialized=!0})).catch((function(t){e.hasContractor=!1,e.initialized=!0}))}}},ht=vt,yt=Object(d["a"])(ht,it,lt,!1,null,null,null),bt=yt.exports,gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[o("employees-add-new",{attrs:{active:e.newEmployeePopup},on:{closed:e.closePopup,"added-employee":e.addedEmployee}}),o("employees-edit",{attrs:{active:e.editEmployeePopup,employeeId:e.editableId},on:{closed:e.closeEditPopup,"edited-employee":e.editedEmployee,error:e.closePopup}}),e.initialized?o("obd-card",{attrs:{"card-title":"Zamestnanci"}},[o("div",{attrs:{slot:"controls"},slot:"controls"},[o("obd-button",{on:{click:e.togglePopup}},[e._v("Pridať zamestnanca")])],1),o("employees-table",{attrs:{employees:e.employees},on:{edit:e.openEditPopup,delete:e.deleteEmployee}})],1):e._e()],1)},_t=[],wt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-table",{attrs:{data:JSON.stringify(e.employees),columns:JSON.stringify(e.columns),actions:JSON.stringify(e.tableActions)},on:{action:e.action}})},Et=[],Ct={props:["employees"],data:function(){return{columns:[{key:"name",text:"Meno"},{key:"email",text:"Email"},{key:"type-of-employment",text:"Druh pracovného pomeru"}],tableActions:[{text:"",action:"edit",icon:"fas fa-edit",color:"#2d4059"},{text:"",action:"delete",icon:"fas fa-trash-alt",color:"#ea5455"}]}},methods:{action:function(e){this.$emit(e.detail.action,e.detail.id)}}},kt=Ct,jt=Object(d["a"])(kt,wt,Et,!1,null,null,null),Ot=jt.exports,Pt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Pridať nového zamestnanca","max-width":"500px"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.addEmployee(t)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Meno a priezvisko")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.name,expression:"newEmployee.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.newEmployee.name},on:{input:[function(t){t.target.composing||e.$set(e.newEmployee,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Email")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.email,expression:"newEmployee.email"}],staticClass:"input",class:{error:e.hasError("email")},attrs:{type:"text",name:"email",id:"email"},domProps:{value:e.newEmployee.email},on:{input:[function(t){t.target.composing||e.$set(e.newEmployee,"email",t.target.value)},e.removeError]}}),e.hasError("email")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("email"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Heslo")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.password,expression:"newEmployee.password"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.newEmployee.password},on:{input:[function(t){t.target.composing||e.$set(e.newEmployee,"password",t.target.value)},e.removeError]}}),e.hasError("password")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("password"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Potvrdenie hesla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmployee.password_confirmation,expression:"newEmployee.password_confirmation"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password_confirmation",id:"password-confirmation"},domProps:{value:e.newEmployee.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.newEmployee,"password_confirmation",t.target.value)}}})])]),o("div",{staticClass:"form-group"},[o("label",[e._v("Pracovný pomer")]),o("div",{staticClass:"input-group"},[o("v-select",{staticClass:"select",attrs:{label:"name",reduce:function(e){return e.id},options:e.typeOfEmployments,placeholder:"Pracovný pomer"},model:{value:e.newEmployee["type-of-employment_id"],callback:function(t){e.$set(e.newEmployee,"type-of-employment_id",t)},expression:"newEmployee['type-of-employment_id']"}})],1)]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v("Pridať zamestnanca")])],1)])])},xt=[],$t={name:"EmployeesAddNew",props:["active"],mixins:[i],data:function(){return{newEmployee:{},typeOfEmployments:[]}},created:function(){this.loadTypeOfEmployments()},methods:{loadTypeOfEmployments:function(){var e=this;this.$store.dispatch("typeOfEmployments/fetchTypeOfEmployments").then((function(){e.typeOfEmployments=e.$store.getters["typeOfEmployments/getTypeOfEmployments"]})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať druhy pracovných pomerov.")}))},addEmployee:function(){var e=this;this.$store.dispatch("employees/submitEmployee",this.newEmployee).then((function(t){e.flashSuccess("Nový zamestnanec bol úspešne pridaný.",{timeout:3e3}),e.$emit("added-employee",t),e.newEmployee={}})).catch((function(t){e.errors=t}))},closePopup:function(){this.$emit("closed")}}},Tt=$t,Mt=(o("b1ee"),Object(d["a"])(Tt,Pt,xt,!1,null,"925b3508",null)),zt=Mt.exports,Dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.notEmptyObject(e.employee)?o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Upraviť existujúceho zamestnanca","max-width":"500px"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.editEmployee(t)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Meno a priezvisko")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.employee.name},on:{input:[function(t){t.target.composing||e.$set(e.employee,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Email")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.email,expression:"employee.email"}],staticClass:"input",class:{error:e.hasError("email")},attrs:{type:"email",name:"email",id:"email"},domProps:{value:e.employee.email},on:{input:[function(t){t.target.composing||e.$set(e.employee,"email",t.target.value)},e.removeError]}}),e.hasError("email")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("email"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Heslo")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.password,expression:"employee.password"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.employee.password},on:{input:[function(t){t.target.composing||e.$set(e.employee,"password",t.target.value)},e.removeError]}}),e.hasError("password")?o("div",{staticClass:"error-message",class:{error:e.hasError("password")}},[e._v(" "+e._s(e.firstError("password"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Potvrdenie hesla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.password_confirmation,expression:"employee.password_confirmation"}],staticClass:"input",class:{error:e.hasError("password")},attrs:{type:"password",name:"password_confirmation",id:"password-confirmation"},domProps:{value:e.employee.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.employee,"password_confirmation",t.target.value)}}})])]),o("div",{staticClass:"form-group"},[o("label",[e._v("Pracovný pomer")]),o("div",{staticClass:"input-group"},[o("v-select",{staticClass:"select",attrs:{label:"name",reduce:function(e){return e.id},options:e.typeOfEmployments,placeholder:"Pracovný pomer"},model:{value:e.employee["type-of-employment_id"],callback:function(t){e.$set(e.employee,"type-of-employment_id",t)},expression:"employee['type-of-employment_id']"}})],1)]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v(" Upraviť zamestnanca ")])],1)])]):e._e()},St=[],Nt={name:"EmployeesEdit",props:["active","employeeId"],mixins:[i],data:function(){return{employee:{},typeOfEmployments:[]}},watch:{employeeId:function(){""!=this.employeeId&&(this.errors={},this.loadEmployee())}},created:function(){this.loadTypeOfEmployments()},methods:{loadTypeOfEmployments:function(){var e=this;this.$store.dispatch("typeOfEmployments/fetchTypeOfEmployments").then((function(){e.typeOfEmployments=e.$store.getters["typeOfEmployments/getTypeOfEmployments"]})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať druhy pracovných pomerov.")}))},loadEmployee:function(){var e=this;this.$store.dispatch("employees/fetchEmployees",this.employeeId).then((function(){e.employee=e.$store.getters["employees/getEmployees"]})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať druhy pracovných pomerov.")}))},editEmployee:function(){var e=this;this.$store.dispatch("employees/editEmployee",this.employee).then((function(){e.flashSuccess("Zamestnanec bol úspešne upravený.",{timeout:3e3}),e.$emit("edited-employee")})).catch((function(t){e.errors=t}))},closePopup:function(){this.$emit("closed"),this.employee={}}}},Yt=Nt,It=(o("f1cc"),Object(d["a"])(Yt,Dt,St,!1,null,"70a80ea2",null)),At=It.exports,Ft={components:{EmployeesTable:Ot,EmployeesAddNew:zt,EmployeesEdit:At},data:function(){return{initialized:!1,employees:[],newEmployeePopup:!1,editEmployeePopup:!1,editableId:""}},created:function(){this.loadEmployees()},methods:{openEditPopup:function(e){this.editableId=e,this.editEmployeePopup=!0},getProperty:function(e){return this[e]},togglePopup:function(){this.newEmployeePopup=!this.newEmployeePopup},closePopup:function(){this.newEmployeePopup=!1},closeEditPopup:function(){this.editEmployeePopup=!1},addedEmployee:function(e){this.employees.push(e),this.formatEmployees(),this.closePopup()},editedEmployee:function(){this.loadEmployees(),this.closeEditPopup()},deleteEmployee:function(e){var t=this,o=confirm("Naozaj chcete vymazať daného zamestnanca?");o&&this.$store.dispatch("employees/deleteEmployee",e).then((function(){var o=t.employees.filter((function(t){return t.id!=e}));t.employees=o,t.flashSuccess("Zamestnanec bol vymazaný.",{timeout:3e3})})).catch((function(e){t.flashError("Niečo sa pokazilo, nebolo možné vymazať pracovný pomer.")}))},loadEmployees:function(){var e=this;this.$store.dispatch("employees/fetchEmployees").then((function(){e.employees=e.$store.getters["employees/getEmployees"],e.formatEmployees(),e.initialized=!0})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať druhy pracovných pomerov.")}))},formatEmployees:function(){this.employees=this.employees.map((function(e){return"undefined"!=typeof e["type-of-employment"]&&e["type-of-employment"]||(e["type-of-employment"]="-"),e["id"]=e["user_id"],delete e["user_id"],e}))}}},Jt=Ft,Rt=Object(d["a"])(Jt,gt,_t,!1,null,null,null),qt=Rt.exports,Wt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[o("type-of-employments-add-new",{attrs:{active:e.newTypePopup},on:{closed:e.closePopup,"added-new-type":e.addedNewType}}),o("type-of-employments-edit",{attrs:{active:e.editTypePopup,typeId:e.editableId},on:{closed:e.closeEditPopup,"edited-type":e.editedType,error:e.closeEditPopup}}),e.initialized?o("obd-card",{attrs:{"card-title":"Pracovné pomery","card-subtitle":"Zoznam pracovných pomerov a ich príspevkov na obedy"}},[o("div",{attrs:{slot:"controls"},slot:"controls"},[o("obd-button",{on:{click:e.togglePopup}},[e._v("Pridať pracovný pomer")])],1),o("type-of-employments-table",{attrs:{"type-of-employments":e.typeOfEmployments},on:{edit:e.openEdit,delete:e.deleteType}})],1):e._e()],1)},Ut=[],Vt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-table",{staticClass:"day-box__table",attrs:{data:JSON.stringify(e.typeOfEmployments),columns:JSON.stringify(e.columns),actions:JSON.stringify(e.tableActions)},on:{action:e.action}})},Lt=[],Zt={props:["typeOfEmployments"],data:function(){return{columns:[{key:"name",text:"Druh pracovného pomeru"},{key:"contribution",text:"Príspevok",suffix:"€"}],tableActions:[{action:"edit",icon:"fas fa-edit",color:"#2d4059"},{action:"delete",icon:"fas fa-trash-alt",color:"#ea5455"}]}},methods:{action:function(e){this.$emit(e.detail.action,e.detail.id)}}},Kt=Zt,Ht=Object(d["a"])(Kt,Vt,Lt,!1,null,null,null),Bt=Ht.exports,Gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Pridať pracovný pomer","modal-subtitle":"Pridajte nový druh pracovného pomeru a jeho príspevok","max-width":"500px"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.addType(t)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Názov pracovného pomeru")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newType.name,expression:"newType.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.newType.name},on:{input:[function(t){t.target.composing||e.$set(e.newType,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"price"}},[e._v("Príspevok v €")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newType.contribution,expression:"newType.contribution"}],staticClass:"input",class:{error:e.hasError("contribution")},attrs:{type:"number",step:"0.01",name:"contribution",id:"contribution"},domProps:{value:e.newType.contribution},on:{input:[function(t){t.target.composing||e.$set(e.newType,"contribution",t.target.value)},e.removeError]}}),e.hasError("contribution")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("contribution"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v("Pridať pracovný pomer")])],1)])])},Qt=[],Xt={name:"TypeOfEmployeementsAddNew",props:["active"],mixins:[i],data:function(){return{newType:{}}},methods:{closePopup:function(){this.$emit("closed")},addType:function(){var e=this;this.$store.dispatch("typeOfEmployments/submitTypeOfEmployment",this.newType).then((function(t){e.newType={},e.flashSuccess("Nový pracovný pomer bol úspešne pridaný.",{timeout:3e3}),e.$emit("added-new-type",t)})).catch((function(t){e.errors=t}))}}},eo=Xt,to=Object(d["a"])(eo,Gt,Qt,!1,null,null,null),oo=to.exports,ao=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.notEmptyObject(e.editableType)?o("obd-modal",{staticClass:"pop-up",attrs:{active:e.active,"modal-title":"Upraviť pracovný pomer","modal-subtitle":"Upravte existujúci pracovný pomer","max-width":"500px"},on:{closed:e.closePopup}},[o("form",{staticClass:"form",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.editType(t)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"meal"}},[e._v("Názov jedla")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editableType.name,expression:"editableType.name"}],staticClass:"input",class:{error:e.hasError("name")},attrs:{type:"text",name:"name",id:"name"},domProps:{value:e.editableType.name},on:{input:[function(t){t.target.composing||e.$set(e.editableType,"name",t.target.value)},e.removeError]}}),e.hasError("name")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("name"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"price"}},[e._v("Cena v €")]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editableType.contribution,expression:"editableType.contribution"}],staticClass:"input",class:{error:e.hasError("contribution")},attrs:{type:"number",step:"0.01",name:"contribution",id:"contribution"},domProps:{value:e.editableType.contribution},on:{input:[function(t){t.target.composing||e.$set(e.editableType,"contribution",t.target.value)},e.removeError]}}),e.hasError("contribution")?o("div",{staticClass:"error-message"},[e._v(" "+e._s(e.firstError("contribution"))+" ")]):e._e()])]),o("div",{staticClass:"form-group"},[o("obd-button",{attrs:{type:"submit",block:""}},[e._v(" Upraviť pracovný pomer ")])],1)])]):e._e()},so=[],ro={name:"TypeOfEmployeementsAddNew",props:["active","typeId"],mixins:[i],data:function(){return{editableType:{}}},watch:{active:function(){this.errors={}},typeId:function(){this.loadType()}},methods:{closePopup:function(){this.$emit("closed"),this.editableType={}},loadType:function(){var e=this;this.$store.dispatch("typeOfEmployments/fetchTypeOfEmployments",this.typeId).then((function(){e.editableType=e.$store.getters["typeOfEmployments/getTypeOfEmployments"]})).catch((function(t){e.flashError("Niečo sa pokazilo.")}))},editType:function(){var e=this;this.$store.dispatch("typeOfEmployments/editTypeOfEmployment",this.editableType).then((function(){e.flashSuccess("Pracovný pomer bol úspešne upravený.",{timeout:3e3}),e.$emit("edited-type")})).catch((function(t){e.errors=t}))}}},no=ro,io=Object(d["a"])(no,ao,so,!1,null,null,null),lo=io.exports,co={components:{typeOfEmploymentsTable:Bt,typeOfEmploymentsAddNew:oo,typeOfEmploymentsEdit:lo},data:function(){return{initialized:!1,typeOfEmployments:[],newTypePopup:!1,newType:{},editTypePopup:!1,editableId:""}},created:function(){this.loadTypeOfEmployments()},methods:{openEdit:function(e){this.editableId=e,this.editTypePopup=!0},addedNewType:function(e){this.typeOfEmployments.push(e),this.closePopup()},editedType:function(){this.loadTypeOfEmployments(),this.closeEditPopup()},loadTypeOfEmployments:function(){var e=this;this.$store.dispatch("typeOfEmployments/fetchTypeOfEmployments").then((function(){e.typeOfEmployments=e.$store.getters["typeOfEmployments/getTypeOfEmployments"],e.initialized=!0})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))},togglePopup:function(){this.newTypePopup=!this.newTypePopup},closePopup:function(){this.newTypePopup=!1},closeEditPopup:function(){this.editTypePopup=!1},deleteType:function(e){var t=this,o=confirm("Naozaj chcete vymazať daný pracovný pomer?");o&&this.$store.dispatch("typeOfEmployments/deleteTypeOfEmployment",e).then((function(){var o=t.typeOfEmployments.filter((function(t){return t.id!=e}));t.typeOfEmployments=o,t.flashSuccess("Pracovný pomer bol vymazaný.",{timeout:3e3})})).catch((function(e){t.flashError("Niečo sa pokazilo, nebolo možné vymazať pracovný pomer.")}))}}},uo=co,mo=Object(d["a"])(uo,Wt,Ut,!1,null,null,null),po=mo.exports,fo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[o("orders-detail",{attrs:{active:e.orderDetailPopup,subtitle:e.modalSubtitle,order:e.orderDetail},on:{closed:e.closeDetail}}),o("orders-filter",{attrs:{active:e.filterPopup},on:{closed:e.closeFilter,"changed-filter":e.changedFilter}}),e.initialized?o("obd-card",{attrs:{"card-title":"Objednávky"}},[e.notEmptyObject(e.orders)?o("div",{attrs:{slot:"controls"},slot:"controls"},[o("obd-button",{on:{click:e.openFilter}},[e._v("Filter")])],1):e._e(),e.notEmptyObject(e.orders)?o("div",e._l(e.orders,(function(t,a){return o("div",{key:a,staticClass:"day-box"},[o("orders-table",{attrs:{orders:t,date:a,"formated-date":e.formatDate(a,e.dateFormat),view:e.view},on:{detail:e.openDetail}})],1)})),0):o("h3",[e._v(" Nemáte žiadne objednávky ")])]):e._e()],1)},vo=[],ho=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",{staticClass:"day-box__date"},[e._v(e._s(e.formatedDate))]),o("obd-table",{staticClass:"day-box__table",attrs:{layout:"fixed",data:JSON.stringify(e.formatedOrders),columns:JSON.stringify(e.columns),actions:JSON.stringify(e.actions)},on:{action:e.action}})],1)},yo=[],bo=(o("a434"),{props:["orders","date","formated-date","view"],data:function(){return{}},computed:{columns:function(){var e=[{key:"name",text:"Zamestnanec"},{key:"discount_price",text:"Cena s dotáciou",suffix:"€"},{key:"price",text:"Plná cena",suffix:"€"}];return"days"==this.view&&e.splice(1,0,{key:"meal",text:"Jedlo"}),e},actions:function(){var e="";return"months"==this.view&&(e=[{text:"Detail",action:"detail",color:"#2d4059"}]),e},formatedOrders:function(){var e=this;if("days"==this.view)return this.orders;var t=[];return Object.keys(this.orders).map((function(o){t.push({id:e.date+"#"+o,name:o,price:e.orders[o].price,discount_price:e.orders[o].discount_price})})),t}},methods:{action:function(e){this.$emit(e.detail.action,e.detail.id)}}}),go=bo,_o=Object(d["a"])(go,ho,yo,!1,null,null,null),wo=_o.exports,Eo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("obd-modal",{staticClass:"pop-up pop-up--filter",attrs:{active:e.active,"modal-title":"Filter objednávok","max-width":"500px"},on:{closed:e.closeFilter}},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"select"},[o("v-select",{staticStyle:{height:"35px"},attrs:{multiple:"",options:e.employees,placeholder:"Všetci zamestnanci"},model:{value:e.selectedEmployees,callback:function(t){e.selectedEmployees=t},expression:"selectedEmployees"}})],1)])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"calendar"},[o("datepicker",{attrs:{"calendar-class":"calendar__picker","input-class":"calendar__input",format:"dd.MM.yyyy",placeholder:"Dátum od",value:e.dateFrom},on:{input:function(t){e.dateFrom=e.fixDate(t)}}})],1),o("span",{staticClass:"delimer"}),o("div",{staticClass:"calendar"},[o("datepicker",{attrs:{"calendar-class":"calendar__picker","input-class":"calendar__input",format:"dd.MM.yyyy",placeholder:"Dátum do",value:e.dateTo},on:{input:function(t){e.dateTo=e.fixDate(t)}}})],1)])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[e._v(" zobrazenie: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.view,expression:"view"}],staticClass:"view-input",attrs:{type:"radio",name:"view",value:"days",id:"view-days"},domProps:{checked:e._q(e.view,"days")},on:{change:function(t){e.view="days"}}}),o("label",{staticClass:"view-label",class:{active:"days"==e.view},attrs:{for:"view-days"}},[e._v(" denné ")]),e._v(" / "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.view,expression:"view"}],staticClass:"view-input",attrs:{type:"radio",name:"view",value:"months",id:"view-months"},domProps:{checked:e._q(e.view,"months")},on:{change:function(t){e.view="months"}}}),o("label",{staticClass:"view-label",class:{active:"months"==e.view},attrs:{for:"view-months"}},[e._v(" mesačné ")])])])])])},Co=[],ko={props:["active"],data:function(){return{employees:[],filterPopup:!1,dateFrom:"",dateTo:"",selectedEmployees:[],view:"days"}},computed:{filter:function(){var e="";return this.selectedEmployees.length&&(e=this.selectedEmployees.toString()),"/".concat(this.view,"?filter[date_from]=").concat(this.dateFrom,"&filter[date_to]=").concat(this.dateTo,"&filter[employee]=").concat(e)},filterVariables:function(){return this.view,this.dateFrom,this.dateTo,this.selectedEmployees},dateFormat:function(){return"months"==this.view?"MMMM YYYY":"DD.MM.YYYY"}},watch:{dateFrom:function(){this.$emit("changed-filter",this.filter,this.view)},filterVariables:function(){this.$emit("changed-filter",this.filter,this.view)}},created:function(){this.loadEmployees()},methods:{closeFilter:function(){this.$emit("closed")},loadEmployees:function(){var e=this;this.$store.dispatch("employees/fetchEmployees").then((function(t){var o=t;o.forEach((function(t){e.employees.push(t.name)}))})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať zoznam zamestnancov.")}))},fixDate:function(e){return Be()(e).format("YYYY-MM-DD")}}},jo=ko,Oo=Object(d["a"])(jo,Eo,Co,!1,null,null,null),Po=Oo.exports,xo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.order.meals?o("obd-modal",{staticClass:"pop-up",attrs:{"max-width":"1000px",active:e.active,"modal-title":"Detail objednávky","modal-subtitle":e.subtitle},on:{closed:e.closeDetail}},[o("div",{staticClass:"order-info",attrs:{slot:"controls"},slot:"controls"},[o("h3",{staticClass:"pop-up__price"},[e._v("Cena objednávky: "),o("span",[e._v(e._s(e.order.price)+"€")])]),o("h3",{staticClass:"pop-up__price"},[e._v("Cena s dotáciou: "),o("span",[e._v(e._s(e.order.discount_price)+"€")])])]),o("obd-table",{staticClass:"pop-up__table",attrs:{data:JSON.stringify(e.formatedMeals),columns:JSON.stringify(e.columns)}})],1):e._e()},$o=[],To={props:["active","subtitle","order"],data:function(){return{columns:[{key:"meal",text:"Jedlo"},{key:"count",text:"Množstvo"},{key:"discount_price",text:"Cena s dotáciou za ks"},{key:"price",text:"Plná cena za ks"}]}},computed:{formatedMeals:function(){var e=this,t=[];return Object.keys(this.order.meals).map((function(o){t.push({id:e.order.meals[o].meal_id,meal:e.order.meals[o].meal,count:e.order.meals[o].count,price:e.order.meals[o].price+"€",discount_price:e.order.meals[o].discount_price+"€"})})),t}},methods:{closeDetail:function(){this.$emit("closed")}}},Mo=To,zo=(o("7391"),Object(d["a"])(Mo,xo,$o,!1,null,"58934d65",null)),Do=zo.exports,So={mixins:[L],components:{OrdersTable:wo,OrdersFilter:Po,OrdersDetail:Do},data:function(){return{filterPopup:!1,initialized:!1,view:"days",filter:"",orders:[],orderDetailPopup:!1,modalSubtitle:"",orderDetail:[]}},computed:{dateFormat:function(){return"months"==this.view?"MMMM YYYY":"DD.MM.YYYY"}},created:function(){this.loadOrders()},methods:{openDetail:function(e){var t=e.split("#");this.orderDetail=this.orders[t[0]][t[1]],this.modalSubtitle=this.formatDate(t[0])+" | "+t[1],this.orderDetailPopup=!0},closeDetail:function(){this.orderDetailPopup=!1},openFilter:function(){this.filterPopup=!0},closeFilter:function(){this.filterPopup=!1},changedFilter:function(e,t){this.filter=e,this.view=t,this.loadOrders()},loadOrders:function(){var e=this;this.$store.dispatch("orders/fetchOrders",this.filter).then((function(t){e.orders=t,e.initialized=!0})).catch((function(t){console.log(t),e.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))}}},No=So,Yo=(o("08eb"),Object(d["a"])(No,fo,vo,!1,null,"d826da8e",null)),Io=Yo.exports,Ao=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"section"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[e.weekOrders.length>4?o("obd-card",{attrs:{"card-title":"Objednaj si obedy na tento týždeň","card-subtitle":e.getWeekRange("DD.MM.YYYY")}},[e.errorMessage?e._e():o("div",{attrs:{slot:"controls"},slot:"controls"},e._l(e.weekDays,(function(t,a){return o("obd-scroll",{key:a,attrs:{target:e.weekDaysEn[a].toLowerCase()},domProps:{innerHTML:e._s(t)}})})),1),e.errorMessage?o("h3",[e._v(e._s(e.errorMessage))]):o("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.submitOrder(t)}}},[e._l(e.getCurrentWeek,(function(t,a){return o("div",{key:a,staticClass:"order"},[o("h3",{staticClass:"order__title",attrs:{id:e.weekDaysEn[a].toLowerCase()}},[e._v(" "+e._s(e.weekDays[a])+" | "+e._s(e.formatDate(t))+" ")]),o("hr",{staticClass:"order__divider"}),e._l(e.meals,(function(s,r){return o("div",{key:r,staticClass:"order__item",style:{opacity:e.isPassedDate(t)?.6:1}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.weekOrders[a].meal_id,expression:"weekOrders[indexDay].meal_id"}],key:s.id,attrs:{type:"radio",name:e.weekDaysEn[a].toLowerCase()+"-meal",id:e.weekDaysEn[a].toLowerCase()+"-"+r,disabled:e.isPassedDate(t)},domProps:{value:s.id,checked:e._q(e.weekOrders[a].meal_id,s.id)},on:{change:function(t){return e.$set(e.weekOrders[a],"meal_id",s.id)}}}),o("label",{attrs:{for:e.weekDaysEn[a].toLowerCase()+"-"+r}},[e._v(" "+e._s(s.meal)+" "),o("br"),e._v(" Vaša cena: "+e._s(e.weekOrders[a].discount_price||s.discount_price)+"€ | Plná cena: "+e._s(s.price)+"€ ")])])}))],2)})),o("obd-button",{attrs:{block:"",id:"submitBtn"}},[e._v(" Uložiť ")])],2)]):e._e()],1)])])])},Fo=[],Jo={mixins:[L],data:function(){return{weekOrders:[],errorMessage:""}},computed:{meals:function(){return this.$store.getters.getMeals}},created:function(){this.loadOrders()},methods:{loadOrders:function(){var e=this;this.$store.dispatch("fetchMeals").catch((function(t){401==t.response.status?e.errorMessage="Nemáte žiadneho dodávateľa jedál":e.flashError("Niečo sa pokazilo, nebolo možné načítať obsah stránky.<br>Skúste obnoviť stránku.")}));var t="?filter[date_from]="+this.getWeekStart()+"&filter[date_to]="+this.getWeekEnd();this.$store.dispatch("orders/fetchEmployeeOrders",t).then((function(){e.weekOrders=e.$store.getters["orders/getOrders"],e.formatWeekOrders()})).catch((function(t){e.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))},formatWeekOrders:function(){var e=this;this.getCurrentWeek.forEach((function(t,o){var a=!1;e.weekOrders.forEach((function(e){e.date==t&&(a=!0)})),a||e.weekOrders.splice(o,0,{date:t,meal_id:null})}))},submitOrder:function(e){var t=this;this.$store.dispatch("orders/submitOrder",this.weekOrders).then((function(e){t.loadOrders(),t.flashSuccess("Obedy boli uložené.",{timeout:3e3})})).catch((function(e){console.log(e),t.flashError("Niečo sa pokazilo, nebolo možné načítať objednávky.<br>Skúste obnoviť stránku.")}))}}},Ro=Jo,qo=(o("4aa3"),Object(d["a"])(Ro,Ao,Fo,!1,null,"c073f044",null)),Wo=qo.exports,Uo=[{path:"/",redirect:{name:"admin"}},{path:"/login",name:"login",component:m,meta:{requiresVisitor:!0}},{path:"/register-contractor",name:"register-contractor",component:b,meta:{requiresVisitor:!0}},{path:"/register-client",name:"register-client",component:k,meta:{requiresVisitor:!0}},{path:"/logout",name:"logout",component:T},{path:"/orders",name:"orders",component:Wo,meta:{requiresClientOrEmployee:!0}},{path:"/admin",name:"admin",component:R,meta:{requiresAdmin:!0},children:[{path:"dashboard",name:"restaurant-dashboard",component:le,meta:{requiresContractor:!0}},{path:"menu",name:"restaurant-menu",component:xe,meta:{requiresContractor:!0}},{path:"clients",name:"restaurant-clients",component:Le,meta:{requiresContractor:!0}},{path:"orders",name:"restaurant-orders",component:nt,meta:{requiresContractor:!0}},{path:"contractor",name:"client-contractor",component:bt,meta:{requiresClient:!0}},{path:"employee-orders",name:"client-orders",component:Io,meta:{requiresClient:!0}},{path:"employees",name:"client-employees",component:qt,meta:{requiresClient:!0}},{path:"type-of-employments",name:"client-type-of-employments",component:po,meta:{requiresClient:!0}}]},{path:"*",name:"page-not-found",component:N}],Vo=Uo,Lo=o("2f62"),Zo=(o("caad"),o("2532"),{state:{token:localStorage.getItem("token")||null,tokenType:localStorage.getItem("token_type")||null,userRoles:localStorage.getItem("user_roles")||[]},getters:{loggedIn:function(e){return null!==e.token},userRoles:function(e){return e.userRoles},loggedInClient:function(e){return e.userRoles.includes("Client")},loggedInEmployee:function(e){return e.userRoles.includes("Employee")},loggedInContractor:function(e){return e.userRoles.includes("Contractor")}},mutations:{retrieveToken:function(e,t){e.token=t},retrieveTokenType:function(e,t){e.tokenType=t},retrieveUserRoles:function(e,t){e.userRoles=t},destroyToken:function(e){e.token=null},destroyTokenType:function(e){e.tokenType=null},destroyUserRoles:function(e){e.userRoles=[]}},actions:{retrieveToken:function(e,t){return new Promise((function(o,a){me.a.post("/login",t).then((function(t){var a=t.data.success.token,s=t.data.success.token_type,r=t.data.success.roles;localStorage.setItem("token",a),e.commit("retrieveToken",a),localStorage.setItem("token_type",s),e.commit("retrieveTokenType",s),localStorage.setItem("user_roles",r),e.commit("retrieveUserRoles",r),o(t)})).catch((function(e){a(e.response.data.errors)}))}))},destroyToken:function(e){if(me.a.defaults.headers.common["Authorization"]=e.state.tokenType+" "+e.state.token,e.getters.loggedIn)return new Promise((function(t,o){me.a.post("/logout").then((function(o){localStorage.removeItem("token"),e.commit("destroyToken"),localStorage.removeItem("token_type"),e.commit("destroyTokenType"),localStorage.removeItem("user_roles"),e.commit("destroyUserRoles"),t(o)})).catch((function(t){localStorage.removeItem("token"),e.commit("destroyToken"),localStorage.removeItem("token_type"),e.commit("destroyTokenType"),o(t)}))}))},registerContractor:function(e,t){return new Promise((function(e,o){me.a.post("/register-contractor",t).then((function(t){e(t)})).catch((function(e){o(e.response.data.errors)}))}))},registerClient:function(e,t){return new Promise((function(e,o){me.a.post("/register-client",t).then((function(t){console.log(t),e(t)})).catch((function(e){o(e.response.data.errors)}))}))}}}),Ko={namespaced:!0,state:{orders:[]},getters:{getOrders:function(e){return e.orders}},mutations:{fetchOrders:function(e,t){e.orders=t}},actions:{fetchOrders:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,"undefined"==typeof t&&(t=""),new Promise((function(o,a){me.a.get("/orders"+t).then((function(t){e.commit("fetchOrders",t.data.data),o(t.data.data)})).catch((function(e){a(e.response.data.errors)}))}))},fetchEmployeeOrders:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,"undefined"==typeof t&&(t=""),new Promise((function(o,a){me.a.get("/orders/employee"+t).then((function(t){e.commit("fetchOrders",t.data.data),o(t.data.data)})).catch((function(e){a(e.response.data.errors)}))}))},submitOrder:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.post("/orders",{orders:t}).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))}}},Ho={namespaced:!0,state:{employees:[]},getters:{getEmployees:function(e){return e.employees}},mutations:{fetchEmployees:function(e,t){e.employees=t}},actions:{fetchEmployees:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,t="undefined"==typeof t?"":"/"+t,new Promise((function(o,a){me.a.get("employees"+t).then((function(t){e.commit("fetchEmployees",t.data.data),o(t.data.data)})).catch((function(e){a(e.response.data.errors)}))}))},submitEmployee:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.post("/employees",t).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))},editEmployee:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.put("/employees/"+t.id,t).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))},deleteEmployee:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.delete("/employees/"+t).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))}}},Bo={namespaced:!0,state:{typeOfEmployments:[]},getters:{getTypeOfEmployments:function(e){return e.typeOfEmployments}},mutations:{fetchTypeOfEmployments:function(e,t){e.typeOfEmployments=t}},actions:{fetchTypeOfEmployments:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,t="undefined"==typeof t?"":"/"+t,new Promise((function(o,a){me.a.get("/type-of-employments"+t).then((function(t){e.commit("fetchTypeOfEmployments",t.data.data),o(t.data.data)})).catch((function(e){a(e.response.data.errors)}))}))},submitTypeOfEmployment:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.post("/type-of-employments",{name:t.name,contribution:t.contribution}).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))},editTypeOfEmployment:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.put("/type-of-employments/"+t.id,{name:t.name,contribution:t.contribution}).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))},deleteTypeOfEmployment:function(e,t){return me.a.defaults.headers.common["Authorization"]=e.rootState.auth.tokenType+" "+e.rootState.auth.token,new Promise((function(e,o){me.a.delete("/type-of-employments/"+t).then((function(t){e(t.data.data)})).catch((function(e){o(e.response.data.errors)}))}))}}};a["default"].use(Lo["a"]),me.a.defaults.baseURL="https://obedovac-api.davedot.dev/api";var Go=new Lo["a"].Store({namespaced:!0,modules:{auth:Zo,orders:Ko,employees:Ho,typeOfEmployments:Bo},state:{meals:[]},getters:{getMeals:function(e){return e.meals}},mutations:{fetchMeals:function(e,t){e.meals=t}},actions:{fetchMeals:function(e){return me.a.defaults.headers.common["Authorization"]=e.state.auth.tokenType+" "+e.state.auth.token,new Promise((function(t,o){me.a.get("/meals").then((function(o){e.commit("fetchMeals",o.data.data),t()})).catch((function(e){o(e)}))}))}}}),Qo=new s["a"]({mode:"history",base:"/",routes:Vo});Qo.beforeEach((function(e,t,o){e.matched.some((function(e){return e.meta.requiresClientOrEmployee}))?Go.getters.loggedInClient||Go.getters.loggedInEmployee?o():o({name:"login"}):e.matched.some((function(e){return e.meta.requiresClient}))?Go.getters.loggedInClient?o():o({name:"login"}):e.matched.some((function(e){return e.meta.requiresContractor}))?Go.getters.loggedInContractor?o():o({name:"login"}):e.matched.some((function(e){return e.meta.requiresAdmin}))?Go.getters.loggedInContractor||Go.getters.loggedInClient?o():o({name:"login"}):e.matched.some((function(e){return e.meta.requiresAuth}))?Go.getters.loggedIn?o():o({name:"login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&Go.getters.loggedIn?Go.getters.loggedInContractor||Go.getters.loggedInClient?o({name:"admin"}):o({name:"orders"}):o()}));var Xo=Qo,ea=o("5f5b"),ta=o("b1e0"),oa=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("nav",{staticClass:"nav"},[o("div",{staticClass:"nav__inner"},[o("router-link",{staticClass:"logo",attrs:{to:"/"}},[e._v("Obedovač")]),o("ul",[e.client||e.employee?o("li",[o("router-link",{attrs:{to:{name:"orders"},exact:""}},[e._v("Obedy")])],1):e._e(),e.loggedIn?e._e():o("li",[o("router-link",{attrs:{to:{name:"login"}}},[e._v("Prihlásenie "),o("i",{staticClass:"fas fa-sign-in-alt"})])],1),e.loggedIn?e._e():o("li",{staticClass:"has-dropdown"},[o("span",[e._v(" Registrácia "),o("div",{staticClass:"dropdown"},[o("div",{staticClass:"dropdown__content"},[o("ul",[e.loggedIn?e._e():o("li",[o("router-link",{attrs:{to:{name:"register-client"}}},[e._v("Pre spoločnosti")])],1),e.loggedIn?e._e():o("li",[o("router-link",{attrs:{to:{name:"register-contractor"}}},[e._v("Pre reštaurácie")])],1)])])])])]),e.client||e.contractor?o("li",[o("router-link",{attrs:{to:{name:"admin"}}},[e._v("Administrácia")])],1):e._e(),e.loggedIn?o("li",[o("router-link",{attrs:{to:{name:"logout"}}},[e._v("Odhlásiť "),o("i",{staticClass:"fas fa-sign-out-alt"})])],1):e._e()])],1)]),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("router-view")],1),o("flash-message",{staticClass:"flash-message"})],1)},aa=[],sa={computed:{loggedIn:function(){return this.$store.getters.loggedIn},employee:function(){return this.$store.getters.loggedInEmployee},client:function(){return this.$store.getters.loggedInClient},contractor:function(){return this.$store.getters.loggedInContractor}}},ra=sa,na=(o("d0d6"),Object(d["a"])(ra,oa,aa,!1,null,null,null)),ia=na.exports,la=o("d00d"),ca=o.n(la),da=o("fa33"),ua=o("4a7a"),ma=o.n(ua),pa=o("de91");o("2aeb"),o("2dd8");o("f59c"),a["default"].config.productionTip=!1,a["default"].config.ignoredElements=[/obd-\w*/],Object(pa["a"])().then((function(){Object(pa["b"])(window)})),a["default"].use(s["a"]),a["default"].use(ea["a"]),a["default"].use(ta["a"]),a["default"].use(ca.a),a["default"].component("datepicker",da["a"]),a["default"].component("v-select",ma.a),a["default"].mixin({methods:{notEmptyObject:function(e){return Object.keys(e).length}}}),new a["default"]({render:function(e){return e(ia)},router:Xo,store:Go}).$mount("#app")},"6edd":function(e,t,o){},7391:function(e,t,o){"use strict";var a=o("6edd"),s=o.n(a);s.a},8476:function(e,t,o){},"9e11":function(e,t,o){},b1ee:function(e,t,o){"use strict";var a=o("0b1e"),s=o.n(a);s.a},b5ae:function(e,t,o){},bdb2:function(e,t,o){},d0d6:function(e,t,o){"use strict";var a=o("12a4"),s=o.n(a);s.a},f1cc:function(e,t,o){"use strict";var a=o("1fbf"),s=o.n(a);s.a},f73d:function(e,t,o){var a={"./obd-button-arrow.entry.js":["7bf4","chunk-2d0e1dcf"],"./obd-button_5.entry.js":["e1af","chunk-2d224e87"],"./obd-scroll.entry.js":["68c1","chunk-2d0d0b66"],"./obd-table-menu.entry.js":["7d66","chunk-2d0e1f83"]};function s(e){if(!o.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return o.e(t[1]).then((function(){return o(s)}))}s.keys=function(){return Object.keys(a)},s.id="f73d",e.exports=s}});
//# sourceMappingURL=app.4f81ca75.js.map